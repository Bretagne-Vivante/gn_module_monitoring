<div id="geometry" class="map-container">
  <pnx-map height="80vh" [ngClass]="{ 'hide-draw-form': !bEdit }">
    
    <pnx-draw-form
      *ngIf="obj && obj.config['geometry_type'] && objForm.controls['geometry'] && _mapService.map"
      [parentFormControl]="objForm.controls['geometry']"
      [geometryType]="obj.config['geometry_type']"
      [bZoomOnPoint]=false
    ></pnx-draw-form>

    <pnx-geojson
      *ngIf="sites && sites['features']"
      [geojson]="sites"
      [zoomOnLayer]="true"
    ></pnx-geojson>

  </pnx-map>
</div>
